<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="XPCS plugin" href="supplied_plugins/XPCS.html" /><link rel="prev" title="spec2nexus.diffractometers" href="diffractometers.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.03.04"/>
        <title>spec2nexus.plugin - spec2nexus 2021.2.0rc1 (1.gd986379)</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=935aa2abcc5c1da4283d1dc201fb1f0add16d23a" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=25ceb02ed1c46dc30f2321ff83e92799f69dfdb9" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">spec2nexus 2021.2.0rc1 (1.gd986379)</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">spec2nexus 2021.2.0rc1 (1.gd986379)</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="contents.html">Contents</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="example_data.html">Example data</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="applications.html">Applications</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="spec2nexus.html">spec2nexus</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="nexus_layout/index.html">NeXus File Layout</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/example_1d_scan.html">Example 1-D scan</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/terms.html">Nomenclature</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/basic_tree.html">Basic Tree Structure</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/general_tree.html">General Tree Structure</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/spec_data_file.html">SPEC Data File</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/spec_scan.html">Scan</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/scan_data.html">Scan Data</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/comments.html">Comments</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/counters.html">Counters</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/geometry.html">Geometry</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/instrument.html">Instrument</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/mca.html">Multi-channel analyzer</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/metadata.html">Metadata</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/positioners.html">Positioners</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/sample.html">Sample</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/temperature.html">Temperature</a></li>
<li class="toctree-l5"><a class="reference internal" href="nexus_layout/unrecognized_content.html">Unrecognized Control Line</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="extractSpecScan.html">extractSpecScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="specplot.html">specplot</a></li>
<li class="toctree-l3"><a class="reference internal" href="specplot_gallery.html">specplot_gallery</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="libraries.html">Libraries</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="spec.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.spec</span></code></a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="eznx.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.eznx</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="writer.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.writer</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="howto.html">How-to guides</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="how_to_write_plugin.html">How to write a custom control line handling plugin module for <em>spec</em></a></li>
<li class="toctree-l3"><a class="reference internal" href="specplot_custom_scan_macro.html">How to write a custom scan handling class for <em>specplot</em></a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="api.html">API</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="charts.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.charts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="control_lines.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.control_lines</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="diffractometers.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.diffractometers</span></code></a></li>
<li class="toctree-l3 current has-children current-page"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.plugin</span></code></a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="supplied_plugins/XPCS.html">XPCS plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="supplied_plugins/apstools_specwriter.html">apstools SpecWriterCallback metadata plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="supplied_plugins/fallback.html">Fallback plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="supplied_plugins/spec_common.html">SPEC standard plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="supplied_plugins/uim.html">UIM plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="supplied_plugins/unicat.html">unicat plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="supplied_plugins/uxml.html">#UXML: UXML metadata plugin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scanf.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.scanf</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="singletons.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.singletons</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="writer.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.writer</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Unit Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="changes.html">Change History</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html">License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contents.html#indices-and-tables">Indices and tables</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="spec2nexus-plugin">
<span id="index-0"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.plugin</span></code><a class="headerlink" href="#spec2nexus-plugin" title="Permalink to this headline">#</a></h1>
<p>An extensible plugin architecture is used to handle the different possible
<span class="target" id="index-1"></span>control line
control lines (such as <strong>#F</strong>, <strong>#E</strong>, <strong>#S</strong>, …) in a SPEC data file.</p>
<p>A SPEC <em>control line</em> provides metadata about the SPEC scan or SPEC data file.</p>
<p>Plugins can be used to parse or ignore certain control lines in SPEC data files.
Through this architecture, it is possible to support custom control lines,
such as <strong>#U</strong> (SPEC standard control line for any user data).
One example is support for the <a class="reference internal" href="supplied_plugins/unicat.html#unicat-plugin"><span class="std std-ref">UNICAT-style</span></a> of metadata
provided in the scan header.</p>
<p>Plugins are now used to handle all control lines in <a class="reference internal" href="spec.html#module-spec2nexus.spec" title="spec2nexus.spec: Classes to read the contents of a SPEC data file."><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.spec</span></code></a>.
Any control line encountered but not recognized will be placed as text
in a NeXus <strong>NXnote</strong> group named <code class="docutils literal notranslate"><span class="pre">unrecognized_NNN</span></code> (where <code class="docutils literal notranslate"><span class="pre">NNN</span></code>
is from 1 to the maximum number of unrecognized control lines).</p>
<section id="supplied-spec-plugin-modules">
<span id="supplied-plugins"></span><h2>Supplied <strong>spec</strong> plugin modules<a class="headerlink" href="#supplied-spec-plugin-modules" title="Permalink to this headline">#</a></h2>
<p>These plugin modules are supplied:</p>
<div class="table-wrapper"><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#module-spec2nexus.plugins.spec_common" title="spec2nexus.plugins.spec_common: SPEC standard data file support."><code class="xref py py-obj docutils literal notranslate"><span class="pre">spec_common</span></code></a></p></td>
<td><p>SPEC data file standard control lines</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/fallback.html#module-spec2nexus.plugins.fallback" title="spec2nexus.plugins.fallback: Fallback handling for any SPEC data file control lines not recognized by other handlers."><code class="xref py py-obj docutils literal notranslate"><span class="pre">fallback</span></code></a></p></td>
<td><p>Fallback handling for any SPEC data file control lines not recognized by other handlers</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/apstools_specwriter.html#module-spec2nexus.plugins.apstools_specwriter" title="spec2nexus.plugins.apstools_specwriter: Bluesky metadata from apstools SpecWriterCallback."><code class="xref py py-obj docutils literal notranslate"><span class="pre">apstools_specwriter</span></code></a></p></td>
<td><p><strong>#MD</strong> : Bluesky metadata from apstools SpecWriterCallback.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/unicat.html#module-spec2nexus.plugins.unicat" title="spec2nexus.plugins.unicat: Metadata in SPEC data files as defined by APS UNICAT."><code class="xref py py-obj docutils literal notranslate"><span class="pre">unicat</span></code></a></p></td>
<td><p><strong>#H</strong> &amp; <strong>#V</strong> - Metadata in SPEC data files as defined by APS UNICAT</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/uim.html#module-spec2nexus.plugins.uim" title="spec2nexus.plugins.uim: UIM - Image header information from EPICS areaDetector."><code class="xref py py-obj docutils literal notranslate"><span class="pre">uim</span></code></a></p></td>
<td><p><strong>#UIM</strong> : Image header information from EPICS areaDetector</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/XPCS.html#module-spec2nexus.plugins.XPCS" title="spec2nexus.plugins.XPCS: SPEC data file control lines unique to the APS XPCS instrument"><code class="xref py py-obj docutils literal notranslate"><span class="pre">XPCS</span></code></a></p></td>
<td><p>SPEC data file control lines unique to the APS XPCS instrument</p></td>
</tr>
</tbody>
</table></div>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="writing-a-custom-plugin">
<h2>Writing a custom plugin<a class="headerlink" href="#writing-a-custom-plugin" title="Permalink to this headline">#</a></h2>
<p>While <strong>spec2nexus</strong> provides a comprehensive set of plugins to handle the
common SPEC <span class="target" id="index-2"></span>control line control lines, custom control lines are used
at many facilities to write additional scan data and scan metadata into the SPEC
data file.  Custom plugins are written to process these additions.  See the
<a class="reference internal" href="how_to_write_plugin.html#how-to-write-plugin"><span class="std std-ref">How to write a custom control line handling plugin module for spec</span></a> section for details.</p>
</section>
<section id="overview-of-the-supplied-spec-plugins">
<span id="control-line-table"></span><h2>Overview of the supplied <strong>spec</strong> plugins<a class="headerlink" href="#overview-of-the-supplied-spec-plugins" title="Permalink to this headline">#</a></h2>
<p>Plugins for these control lines <a class="footnote-reference brackets" href="#id2" id="id1">1</a> are provided in <strong>spec2nexus</strong>:</p>
<div class="table-wrapper"><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_File" title="spec2nexus.plugins.spec_common.SPEC_File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_File</span></code></a></p></td>
<td><p><strong>#F</strong> -- original data file name (starts a file header block)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_Epoch" title="spec2nexus.plugins.spec_common.SPEC_Epoch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_Epoch</span></code></a></p></td>
<td><p><strong>#E</strong> -- the UNIX epoch (seconds from 00:00 GMT 1/1/70)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_Date" title="spec2nexus.plugins.spec_common.SPEC_Date"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_Date</span></code></a></p></td>
<td><p><strong>#D</strong> -- date/time stamp</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_Comment" title="spec2nexus.plugins.spec_common.SPEC_Comment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_Comment</span></code></a></p></td>
<td><p><strong>#C</strong> -- any comment either in the scan header or somewhere in the scan</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_Geometry" title="spec2nexus.plugins.spec_common.SPEC_Geometry"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_Geometry</span></code></a></p></td>
<td><p><strong>#G</strong> -- diffractometer geometry (numbered rows: #G0, #G1, ...)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_NormalizingFactor" title="spec2nexus.plugins.spec_common.SPEC_NormalizingFactor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_NormalizingFactor</span></code></a></p></td>
<td><p><strong>#I</strong> -- intensity normalizing factor</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_CounterNames" title="spec2nexus.plugins.spec_common.SPEC_CounterNames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_CounterNames</span></code></a></p></td>
<td><p><strong>#J</strong> -- names of counters (each separated by two spaces) (new with SPEC v6)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_CounterMnemonics" title="spec2nexus.plugins.spec_common.SPEC_CounterMnemonics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_CounterMnemonics</span></code></a></p></td>
<td><p><strong>#j</strong> -- mnemonics of counter  (new with SPEC v6)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_Labels" title="spec2nexus.plugins.spec_common.SPEC_Labels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_Labels</span></code></a></p></td>
<td><p><strong>#L</strong> -- data column labels</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_Monitor" title="spec2nexus.plugins.spec_common.SPEC_Monitor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_Monitor</span></code></a></p></td>
<td><p><strong>#M</strong> -- counting against this constant monitor count (see #T)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_NumColumns" title="spec2nexus.plugins.spec_common.SPEC_NumColumns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_NumColumns</span></code></a></p></td>
<td><p><strong>#N</strong> -- number of columns of data [ num2 sets per row ]</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_PositionerNames" title="spec2nexus.plugins.spec_common.SPEC_PositionerNames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_PositionerNames</span></code></a></p></td>
<td><p><strong>#O</strong> -- positioner names (numbered rows: #O0, #O1, ...)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_PositionerMnemonics" title="spec2nexus.plugins.spec_common.SPEC_PositionerMnemonics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_PositionerMnemonics</span></code></a></p></td>
<td><p><strong>#o</strong> -- positioner mnemonics (new with SPEC v6)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_Positioners" title="spec2nexus.plugins.spec_common.SPEC_Positioners"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_Positioners</span></code></a></p></td>
<td><p><strong>#P</strong> -- positioner values at start of scan (numbered rows: #P0, #P1, ...)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_HKL" title="spec2nexus.plugins.spec_common.SPEC_HKL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_HKL</span></code></a></p></td>
<td><p><strong>#Q</strong> -- <span class="math notranslate nohighlight">\(Q\)</span> (<span class="math notranslate nohighlight">\(hkl\)</span>) at start of scan</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_Scan" title="spec2nexus.plugins.spec_common.SPEC_Scan"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_Scan</span></code></a></p></td>
<td><p><strong>#S</strong> -- SPEC scan</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_CountTime" title="spec2nexus.plugins.spec_common.SPEC_CountTime"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_CountTime</span></code></a></p></td>
<td><p><strong>#T</strong> -- counting against this constant number of seconds (see #M)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_UserReserved" title="spec2nexus.plugins.spec_common.SPEC_UserReserved"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_UserReserved</span></code></a></p></td>
<td><p><strong>#U</strong> -- Reserved for user</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_TemperatureSetPoint" title="spec2nexus.plugins.spec_common.SPEC_TemperatureSetPoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_TemperatureSetPoint</span></code></a></p></td>
<td><p><strong>#X</strong> -- Temperature Set Point (desired temperature)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_DataLine" title="spec2nexus.plugins.spec_common.SPEC_DataLine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_DataLine</span></code></a></p></td>
<td><p><strong>(scan_data)</strong> -- scan data line</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_MCA" title="spec2nexus.plugins.spec_common.SPEC_MCA"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_MCA</span></code></a></p></td>
<td><p><strong>#@MCA</strong> -- MCA data formatting declaration (ignored for now)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_MCA_Array" title="spec2nexus.plugins.spec_common.SPEC_MCA_Array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_MCA_Array</span></code></a></p></td>
<td><p><strong>@A</strong> -- MCA Array data</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_MCA_Calibration" title="spec2nexus.plugins.spec_common.SPEC_MCA_Calibration"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_MCA_Calibration</span></code></a></p></td>
<td><p><strong>#@CALIB</strong> -- coefficients to compute a scale based on the MCA channel number</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_MCA_ChannelInformation" title="spec2nexus.plugins.spec_common.SPEC_MCA_ChannelInformation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_MCA_ChannelInformation</span></code></a></p></td>
<td><p><strong>#@CHANN</strong> -- MCA channel information</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_MCA_CountTime" title="spec2nexus.plugins.spec_common.SPEC_MCA_CountTime"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_MCA_CountTime</span></code></a></p></td>
<td><p><strong>#@CTIME</strong> -- MCA count times</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_MCA_RegionOfInterest" title="spec2nexus.plugins.spec_common.SPEC_MCA_RegionOfInterest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SPEC_MCA_RegionOfInterest</span></code></a></p></td>
<td><p><strong>#@ROI</strong> -- MCA ROI (Region Of Interest) channel information</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/fallback.html#spec2nexus.plugins.fallback.UnrecognizedControlLine" title="spec2nexus.plugins.fallback.UnrecognizedControlLine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnrecognizedControlLine</span></code></a></p></td>
<td><p>unrecognized control line</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/unicat.html#spec2nexus.plugins.unicat.UNICAT_MetadataMnemonics" title="spec2nexus.plugins.unicat.UNICAT_MetadataMnemonics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UNICAT_MetadataMnemonics</span></code></a></p></td>
<td><p><strong>#H</strong> -- UNICAT metadata names (numbered rows: #H0, #H1, ...)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/unicat.html#spec2nexus.plugins.unicat.UNICAT_MetadataValues" title="spec2nexus.plugins.unicat.UNICAT_MetadataValues"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UNICAT_MetadataValues</span></code></a></p></td>
<td><p><strong>#V</strong> -- UNICAT metadata values (numbered rows: #V0, #V1, ...)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/uim.html#spec2nexus.plugins.uim.UIM_generic" title="spec2nexus.plugins.uim.UIM_generic"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UIM_generic</span></code></a></p></td>
<td><p><strong>#UIM</strong> -- various image header information</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/XPCS.html#spec2nexus.plugins.XPCS.XPCS_VA" title="spec2nexus.plugins.XPCS.XPCS_VA"><code class="xref py py-obj docutils literal notranslate"><span class="pre">XPCS_VA</span></code></a></p></td>
<td><p><strong>#VA</strong></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="supplied_plugins/XPCS.html#spec2nexus.plugins.XPCS.XPCS_VD" title="spec2nexus.plugins.XPCS.XPCS_VD"><code class="xref py py-obj docutils literal notranslate"><span class="pre">XPCS_VD</span></code></a></p></td>
<td><p><strong>#VD</strong></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="supplied_plugins/XPCS.html#spec2nexus.plugins.XPCS.XPCS_VE" title="spec2nexus.plugins.XPCS.XPCS_VE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">XPCS_VE</span></code></a></p></td>
<td><p><strong>#VE</strong></p></td>
</tr>
</tbody>
</table></div>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Compare this list with <a class="reference internal" href="spec.html#plugin-list"><span class="std std-ref">Control lines (keys) defined by SPEC</span></a></p>
</dd>
</dl>
</section>
<section id="module-spec2nexus.plugin_core">
<span id="source-code-documentation"></span><h2>source code documentation<a class="headerlink" href="#module-spec2nexus.plugin_core" title="Permalink to this headline">#</a></h2>
<p>Python plugin support for handling SPEC control lines (such as #S, #D, …).</p>
<div class="table-wrapper"><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase" title="spec2nexus.plugin_core.ControlLineBase"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ControlLineBase</span></code></a>()</p></td>
<td><p>Base class for SPEC data file control line handler plugins.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spec2nexus.plugin_core.install_user_plugin" title="spec2nexus.plugin_core.install_user_plugin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">install_user_plugin</span></code></a>(plugin_file)</p></td>
<td><p>Install plugin(s) from a Python file.</p></td>
</tr>
</tbody>
</table></div>
<p>REGISTRATION SUPPORT (internal use only)</p>
<div class="table-wrapper"><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#spec2nexus.plugin_core.PluginMounter" title="spec2nexus.plugin_core.PluginMounter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PluginMounter</span></code></a>(name, bases, attrs)</p></td>
<td><p>(internal) Register and initiate all plugins subclassed from PluginBase.</p></td>
</tr>
</tbody>
</table></div>
<p># from: <a class="reference external" href="https://gist.github.com/will-hart/5899567">https://gist.github.com/will-hart/5899567</a>
# a simple Python plugin loading system
# see: <a class="reference external" href="http://stackoverflow.com/questions/14510286/plugin-architecture-plugin-manager-vs-inspecting-from-plugins-import">http://stackoverflow.com/questions/14510286/plugin-architecture-plugin-manager-vs-inspecting-from-plugins-import</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="spec2nexus.plugin_core.ControlLineBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spec2nexus.plugin_core.</span></span><span class="sig-name descname"><span class="pre">ControlLineBase</span></span><a class="reference internal" href="_modules/spec2nexus/plugin_core.html#ControlLineBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spec2nexus.plugin_core.ControlLineBase" title="Permalink to this definition">#</a></dt>
<dd><p>Base class for SPEC data file control line handler plugins.</p>
<p>Define a subclass of <a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase" title="spec2nexus.plugin_core.ControlLineBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ControlLineBase</span></code></a> for
each different type of control line. Refer to the supplied plugins (such as
<a class="reference internal" href="supplied_plugins/spec_common.html#module-spec2nexus.plugins.spec_common" title="spec2nexus.plugins.spec_common: SPEC standard data file support."><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.plugins.spec_common</span></code></a>) for examples. In each such class,
it is necessary to:</p>
<ul class="simple">
<li><p>define a string value for the <code class="docutils literal notranslate"><span class="pre">key</span></code> (class attribute)</p></li>
<li><p>override the definition of <a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase.process" title="spec2nexus.plugin_core.ControlLineBase.process"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process()</span></code></a></p></li>
</ul>
<p>As each subclass is imported, the metaclass keyword argument above
automatically registers the plugin handler and its associated control line
key.</p>
<p>It is optional to:</p>
<ul class="simple">
<li><p>define <a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase.postprocess" title="spec2nexus.plugin_core.ControlLineBase.postprocess"><code class="xref py py-meth docutils literal notranslate"><span class="pre">postprocess()</span></code></a></p></li>
<li><p>define <a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase.writer" title="spec2nexus.plugin_core.ControlLineBase.writer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">writer()</span></code></a></p></li>
<li><p>define <a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase.match_key" title="spec2nexus.plugin_core.ControlLineBase.match_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">match_key()</span></code></a></p></li>
</ul>
<p>PARAMETERS</p>
<dl class="simple">
<dt>key str :</dt><dd><p>regular expression to match a control line key, up to the first space</p>
</dd>
<dt>scan_attributes_defined [str] :</dt><dd><p>list of scan attributes defined in this class</p>
</dd>
<dt>returns:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<div class="table-wrapper"><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase.process" title="spec2nexus.plugin_core.ControlLineBase.process"><code class="xref py py-obj docutils literal notranslate"><span class="pre">process</span></code></a>(text, spec_obj, *args, **kwargs)</p></td>
<td><p><em>required:</em> Handle this line from a SPEC data file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase.postprocess" title="spec2nexus.plugin_core.ControlLineBase.postprocess"><code class="xref py py-obj docutils literal notranslate"><span class="pre">postprocess</span></code></a>(header, *args, **kws)</p></td>
<td><p><em>optional:</em> More processing deferred until <em>after</em> data file has been read.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase.writer" title="spec2nexus.plugin_core.ControlLineBase.writer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">writer</span></code></a>(h5parent, writer, scan[, nxclass])</p></td>
<td><p><em>optional:</em> Describe how to store this data in a NeXus HDF5 file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#spec2nexus.plugin_core.ControlLineBase.match_key" title="spec2nexus.plugin_core.ControlLineBase.match_key"><code class="xref py py-obj docutils literal notranslate"><span class="pre">match_key</span></code></a>(text)</p></td>
<td><p>Test if this handler's key matches text.</p></td>
</tr>
</tbody>
</table></div>
<p>EXAMPLE of <code class="docutils literal notranslate"><span class="pre">match_key</span></code> method:</p>
<p>Declaration of the <code class="docutils literal notranslate"><span class="pre">match_key</span></code> method is optional in a subclass.
This is used to test a given line from a SPEC data file against the
<code class="docutils literal notranslate"><span class="pre">key</span></code> of each <code class="docutils literal notranslate"><span class="pre">ControlLineBase</span></code>.</p>
<p>If this method is defined in the subclass, it will be called
instead of <code class="xref py py-meth docutils literal notranslate"><span class="pre">match_key()</span></code>.
This is the example used by
<a class="reference internal" href="supplied_plugins/spec_common.html#spec2nexus.plugins.spec_common.SPEC_DataLine" title="spec2nexus.plugins.spec_common.SPEC_DataLine"><code class="xref py py-class docutils literal notranslate"><span class="pre">SPEC_DataLine</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">match_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">float</span><span class="p">(</span> <span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="spec2nexus.plugin_core.ControlLineBase.match_key">
<span class="sig-name descname"><span class="pre">match_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spec2nexus/plugin_core.html#ControlLineBase.match_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spec2nexus.plugin_core.ControlLineBase.match_key" title="Permalink to this definition">#</a></dt>
<dd><p>Test if this handler’s key matches text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<em>str</em>) – first word on the line,
up to but not including the first whitespace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>key or None</p>
</dd>
</dl>
<p>Applies a regular expression match using each handler’s
<code class="docutils literal notranslate"><span class="pre">key</span></code> as the regular expression to match with <code class="docutils literal notranslate"><span class="pre">text</span></code>.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="spec2nexus.plugin_core.ControlLineBase.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spec2nexus/plugin_core.html#ControlLineBase.postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spec2nexus.plugin_core.ControlLineBase.postprocess" title="Permalink to this definition">#</a></dt>
<dd><p><em>optional:</em> More processing deferred until <em>after</em> data file has been read.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="spec2nexus.plugin_core.ControlLineBase.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec_obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spec2nexus/plugin_core.html#ControlLineBase.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spec2nexus.plugin_core.ControlLineBase.process" title="Permalink to this definition">#</a></dt>
<dd><p><em>required:</em> Handle this line from a SPEC data file.</p>
<p>PARAMETERS</p>
<dl class="simple">
<dt>text str:</dt><dd><p>?raw text?</p>
</dd>
<dt>spec_obj obj:</dt><dd><p>Instance of <a class="reference internal" href="spec.html#spec2nexus.spec.SpecDataFile" title="spec2nexus.spec.SpecDataFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpecDataFile</span></code></a>,
<a class="reference internal" href="spec.html#spec2nexus.spec.SpecDataFileHeader" title="spec2nexus.spec.SpecDataFileHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpecDataFileHeader</span></code></a>, or
<a class="reference internal" href="spec.html#spec2nexus.spec.SpecDataFileScan" title="spec2nexus.spec.SpecDataFileScan"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpecDataFileScan</span></code></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="spec2nexus.plugin_core.ControlLineBase.writer">
<span class="sig-name descname"><span class="pre">writer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nxclass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spec2nexus/plugin_core.html#ControlLineBase.writer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spec2nexus.plugin_core.ControlLineBase.writer" title="Permalink to this definition">#</a></dt>
<dd><p><em>optional:</em> Describe how to store this data in a NeXus HDF5 file.</p>
</dd></dl>
</dd></dl>
<dl class="py exception">
<dt class="sig sig-object py" id="spec2nexus.plugin_core.DuplicateKeyError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spec2nexus.plugin_core.</span></span><span class="sig-name descname"><span class="pre">DuplicateKeyError</span></span><a class="reference internal" href="_modules/spec2nexus/plugin_core.html#DuplicateKeyError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spec2nexus.plugin_core.DuplicateKeyError" title="Permalink to this definition">#</a></dt>
<dd><p>Cannot add more than one plugin for the same control key.</p>
</dd></dl>
<dl class="py class">
<dt class="sig sig-object py" id="spec2nexus.plugin_core.PluginMounter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">spec2nexus.plugin_core.</span></span><span class="sig-name descname"><span class="pre">PluginMounter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spec2nexus/plugin_core.html#PluginMounter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spec2nexus.plugin_core.PluginMounter" title="Permalink to this definition">#</a></dt>
<dd><p>(internal) Register and initiate all plugins subclassed from PluginBase.</p>
<div class="table-wrapper"><table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">_enroll</span></code>(plugin)</p></td>
<td><p>Add the plugin to the plugin list and perform any registration logic.</p></td>
</tr>
</tbody>
</table></div>
<p>Acts as a metaclass which creates anything inheriting from PluginBase.
A plugin mount point derived from:
<a class="reference external" href="http://martyalchin.com/2008/jan/10/simple-plugin-framework/">http://martyalchin.com/2008/jan/10/simple-plugin-framework/</a></p>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="spec2nexus.plugin_core.install_user_plugin">
<span class="sig-prename descclassname"><span class="pre">spec2nexus.plugin_core.</span></span><span class="sig-name descname"><span class="pre">install_user_plugin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plugin_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/spec2nexus/plugin_core.html#install_user_plugin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#spec2nexus.plugin_core.install_user_plugin" title="Permalink to this definition">#</a></dt>
<dd><p>Install plugin(s) from a Python file.</p>
<p>Potentially dangerous since this is an import of a user-created file.</p>
</dd></dl>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="supplied_plugins/XPCS.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">XPCS plugin</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="diffractometers.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.diffractometers</span></code></div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2014-2022, Pete R. Jemian
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">spec2nexus.plugin</span></code></a><ul>
<li><a class="reference internal" href="#supplied-spec-plugin-modules">Supplied <strong>spec</strong> plugin modules</a></li>
<li><a class="reference internal" href="#writing-a-custom-plugin">Writing a custom plugin</a></li>
<li><a class="reference internal" href="#overview-of-the-supplied-spec-plugins">Overview of the supplied <strong>spec</strong> plugins</a></li>
<li><a class="reference internal" href="#module-spec2nexus.plugin_core">source code documentation</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>